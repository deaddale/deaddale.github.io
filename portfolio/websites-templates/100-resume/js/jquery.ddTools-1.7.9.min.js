/**
 * jQuery ddTools Plugin
 * @version: 1.7.9 (2013-01-24)
 * 
 * @uses jQuery 1.7.2
 *
 * @copyright 2013, DivanDesign
 * http://www.DivanDesign.biz
 */

(function(b){b.ddTools={window:b(),body:b(),windowWidth:0,windowHeight:0,cookieOpt:{expires:365,path:"/"},ddErrorData:{title:"\u041d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 =(",message:"\u0412\u043e \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u0441\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u0447\u0442\u043e-\u0442\u043e \u0443\u0436\u0430\u0441\u043d\u043e\u0435 \u0438 \u043d\u0435\u043f\u043e\u043d\u044f\u0442\u043d\u043e\u0435.<br />\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0447\u0443\u0442\u044c \u043f\u043e\u0437\u0436\u0435.",
email:"info@divandesign.ru",$dialog:!1},objectToJSON:function(a){var c=[],d=b.isPlainObject(a),g="",e="";d?(g="{",e="}"):b.isArray(a)&&(g="[",e="]");for(var j in a){var h=a[j];b.isPlainObject(h)||b.isArray(h)?h=b.ddTools.objectToJSON(h):"number"!=b.type(h)&&(h='"'+h+'"');d?c.push('"'+j+'":'+h):b.isArray(a)&&c.push(h)}return g+c.join(",")+e},numberFormat:function(a){return a.toString().replace(/(\d)(?=(\d{3})+\D|(\d{3})+$)/g,"$1 ")},parseInt:function(a){a="undefined"==b.type(a)?"0":a+"";return(a=parseInt(a.replace(/[^\d-]/g,
""),10))||0},parseFloat:function(a,c){a="undefined"==b.type(a)?"0":a+"";a=parseFloat(a.replace(/[^\d\-\+.,]/g,"").replace(/,/g,"."))||0;b.isNumeric(c)&&(a=parseFloat(a.toFixed(c)));return a||0},padej:function(a,b){b=b.split(",");var d=a%100;if(10<=d&&19>=d)return b[0];d=a%10;return 1==d?b[1]:1<d&&5>d?b[2]:b[0]},preloadImages:function(){var a=!1;"function"==typeof arguments[arguments.length-1]&&(a=arguments[arguments.length-1]);var c,d,g;"object"==typeof arguments[0]?(c=arguments[0],d=c.length):(c=
arguments,d=c.length-1);for(var e=d,j=0;j<=d;j++)g="object"==typeof arguments[0]?b(c[j]).attr("src"):c[j],b(new Image).load(function(){1>--e&&"function"==typeof a&&a()}).attr("src",g)},parseChunkAssoc:function(a,b,d){for(var g in b)a=a.replace(RegExp("\\[\\+"+g+"\\+\\]","gm"),b[g]);d&&(a=a.replace(/\[\+\S+\+\]/gm,""));return a},getDate:function(a){a=b.extend({date:"",format:"d.m.y",shortFormat:"",curDate:"",lang:"ru2",lowerCase:!0},a||{});var c=function(a){""==a?a=new Date:(a=new Date(a),b.isNumeric(a.getTime())||
(a=new Date));return a},d=function(a,b){return(a+="").length<b?Array(++b-a.length).join("0")+a:a},g,e,j,h;"en"==a.lang?(g="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),e={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"},j=" January February March April May June July August September October November December".split(" "),h=["Today","Yesterday","Day before yesterday"]):(g="\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0412\u0442\u043e\u0440\u043d\u0438\u043a \u0421\u0440\u0435\u0434\u0430 \u0427\u0435\u0442\u0432\u0435\u0440\u0433 \u041f\u044f\u0442\u043d\u0438\u0446\u0430 \u0421\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),
e={1:"\u043e\u0435",2:"\u043e\u0435",3:"\u0435\u0435",21:"\u043e\u0435",22:"\u043e\u0435",23:"\u0435\u0435",31:"\u043e\u0435"},h=["\u0421\u0435\u0433\u043e\u0434\u043d\u044f","\u0412\u0447\u0435\u0440\u0430","\u041f\u043e\u0437\u0430\u0432\u0447\u0435\u0440\u0430"],j="ru"==a.lang?" \u042f\u043d\u0432\u0430\u0440\u044c \u0424\u0435\u0432\u0440\u0430\u043b\u044c \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0435\u043b\u044c \u041c\u0430\u0439 \u0418\u044e\u043d\u044c \u0418\u044e\u043b\u044c \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u041e\u043a\u0442\u044f\u0431\u0440\u044c \u041d\u043e\u044f\u0431\u0440\u044c \u0414\u0435\u043a\u0430\u0431\u0440\u044c".split(" "):
" \u042f\u043d\u0432\u0430\u0440\u044f \u0424\u0435\u0432\u0440\u0430\u043b\u044f \u041c\u0430\u0440\u0442\u0430 \u0410\u043f\u0440\u0435\u043b\u044f \u041c\u0430\u044f \u0418\u044e\u043d\u044f \u0418\u044e\u043b\u044f \u0410\u0432\u0433\u0443\u0441\u0442\u0430 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f \u041e\u043a\u0442\u044f\u0431\u0440\u044f \u041d\u043e\u044f\u0431\u0440\u044f \u0414\u0435\u043a\u0430\u0431\u0440\u044f".split(" "));a.curDate=c(a.curDate);a.date=""==a.date?a.curDate:c(a.date);
""!=a.shortFormat&&(c=a.curDate.getDate()-a.date.getDate(),1>c?a.format=a.shortFormat.replace("short",h[0]):2>c?a.format=a.shortFormat.replace("short",h[1]):3>c&&(a.format=a.shortFormat.replace("short",h[2])));var f={d:function(){return d(f.j(),2)},D:function(){t=f.l();return t.substr(0,3)},j:function(){return a.date.getDate()},l:function(){return g[f.w()]},N:function(){return f.w()+1},S:function(){return e[f.j()]?e[f.j()]:"th"},w:function(){return a.date.getDay()},z:function(){return(a.date-new Date(a.date.getFullYear()+
"/1/1"))/864E5>>0},W:function(){var b=f.z(),c=364+f.L()-b,d=((new Date(a.date.getFullYear()+"/1/1")).getDay()||7)-1;return 2>=c&&(a.date.getDay()||7)-1<=2-c?1:2>=b&&4<=d&&b>=6-d?(b=new Date(a.date.getFullYear()-1+"/12/31"),date("W",Math.round(b.getTime()/1E3))):1+(3>=d?(b+d)/7:(b-(7-d))/7)>>0},F:function(){return j[f.n()]},m:function(){return d(f.n(),2)},M:function(){t=f.F();return t.substr(0,3)},n:function(){return a.date.getMonth()+1},t:function(){var b;return 2==(b=a.date.getMonth()+1)?28+f.L():
b&1&&8>b||!(b&1)&&7<b?31:30},L:function(){var a=f.Y();return!(a&3)&&(a%100||!(a%400))?1:0},Y:function(){return a.date.getFullYear()},y:function(){return(a.date.getFullYear()+"").slice(2)},a:function(){return 11<a.date.getHours()?"pm":"am"},A:function(){return f.a().toUpperCase()},B:function(){var b=60*(a.date.getTimezoneOffset()+60),b=3600*a.date.getHours()+60*a.date.getMinutes()+a.date.getSeconds()+b,b=Math.floor(b/86.4);1E3<b&&(b-=1E3);0>b&&(b+=1E3);1==String(b).length&&(b="00"+b);2==String(b).length&&
(b="0"+b);return b},g:function(){return a.date.getHours()%12||12},G:function(){return a.date.getHours()},h:function(){return d(f.g(),2)},H:function(){return d(a.date.getHours(),2)},i:function(){return d(a.date.getMinutes(),2)},s:function(){return d(a.date.getSeconds(),2)},O:function(){var b=d(Math.abs(100*(a.date.getTimezoneOffset()/60)),4);return b=0<a.date.getTimezoneOffset()?"-"+b:"+"+b},P:function(){var a=f.O();return a.substr(0,3)+":"+a.substr(3,2)},c:function(){return f.Y()+"-"+f.m()+"-"+f.d()+
"T"+f.h()+":"+f.i()+":"+f.s()+f.P()},U:function(){return Math.round(a.date.getTime()/1E3)}};h=a.format.replace(/[\\]?([a-zA-Z])/g,function(a,b){return a!=b?b:f[b]?f[b]():b});a.lowerCase&&(h=h.toLowerCase());return h}};b.fn.ddGetRealImageSize=function(){var a=b(this),c={width:b.ddTools.parseInt(a.get(0).naturalWidth),height:b.ddTools.parseInt(a.get(0).naturalHeight)};if(0>=c.width||0>=c.height)a=a.eq(0).clone().appendTo(b.ddTools.body).hide(),0<a.length&&(a.removeAttr("width"),a.removeAttr("height"),
a.attr("style","width: auto !important; height: auto !important;"),c.width=a.width(),c.height=a.height(),a.remove());return c};b.ddCookieForm={defaults:{cookieName:!1,data:!1,fieldsSelector:'input[type="text"]',cookieOpt:b.ddTools.cookieOpt,writeEmptyVal:!1},cookieToObj:function(a){var c;if(a.cookieName)if(b.cookie(a.cookieName))try{c=b.parseJSON(b.cookie(a.cookieName))}catch(d){c=!1}else b.cookie(a.cookieName,"",a.cookieOpt),c=!1;else c=!1;return c}};b.fn.ddFormToCookie=function(a){a=b.extend({},
b.ddCookieForm.defaults,a);var c=b.ddCookieForm.cookieToObj(a);c||(c={});b(this).each(function(){b(this).find(a.fieldsSelector).each(function(){var d=b(this),g=d.val();if(a.writeEmptyVal||""!=g)c[d.attr("name")]=g})});a.cookieName&&b.cookie(a.cookieName,b.ddTools.objectToJSON(c),a.cookieOpt);return c};b.fn.ddCookieToForm=function(a){a=b.extend({},b.ddCookieForm.defaults,a);var c=b.ddCookieForm.cookieToObj(a);if(!c)if(a.data)c=a.data;else return;return b(this).each(function(){var d=b(this).find(a.fieldsSelector),
g;for(g in c){var e=d.filter("[name="+g+"]");0<e.length&&(a.writeEmptyVal||""!=c[g])&&e.val(c[g])}})};b.fn.ddMaxLength=function(a){a=b.extend({},{max:150,containerSelector:!1,parentSelector:!1,suffixSelector:!1,suffix:"\u043e\u0432,,\u0430",errorClass:"maxLengthError",warningClass:"maxLengthError",canWriteError:!0,minProcent:7},a);var c=a.max/100*a.minProcent,d=function(d,e,j){e=a.max-e;0>e||e<c?d.removeClass(a.warningClass).addClass(a.errorClass):e<2*c?d.removeClass(a.errorClass).addClass(a.warningClass):
d.removeClass(a.warningClass).removeClass(a.errorClass);d.text(e);j&&j.text(b.ddTools.padej(e,a.suffix))};return b(this).each(function(){var c=b(this),e=c.val();if(a.containerSelector){var j;j=a.parentSelector?c.parents(a.parentSelector+":first"):c.parent();var h=j.find(a.containerSelector),f;a.suffixSelector&&(f=j.find(a.suffixSelector))}h&&d(h,e.length,f);a.canWriteError||c.val(e.substring(0,a.max));c.on("keyup",function(){var c=b(this),e=c.val();if(!a.canWriteError&&e.length>a.max)return c.val(e.substring(0,
a.max)),!1;h&&d(h,e.length,f);return!0})})};b.fn.ddFormWithPlaceholders=function(a){a=b.extend({placeholderSelector:"label"},a||{});return b(this).each(function(){var c=b(this);b(a.placeholderSelector,c).on("click",function(){b(this).prev("input, textarea").trigger("focus")}).on("mouseenter",function(){b(this).prev("input, textarea").addClass("hover")}).on("mouseleave",function(){b(this).prev("input, textarea").removeClass("hover")});c.find('input[type="text"], input[type="password"], textarea').on("focus",
function(){b(this).next(a.placeholderSelector,c).hide()}).on("blur",function(){""==b.trim(b(this).val())?b(this).next(a.placeholderSelector,c).show():b(this).next(a.placeholderSelector,c).hide()}).trigger("blur")})};b.fn.ddFixed=function(a){a=b.extend({fixedClass:"fixed",margin:0,clone:!0,cloneCopyAttrs:!1},a||{});return b(this).each(function(){var c=b(this),d=c.offset().top-a.margin,g=!1,e;a.clone&&(e=b("<div></div>"),a.cloneCopyAttrs&&(e.attr("class",c.attr("class")),e.attr("style",c.attr("style"))),
b.ddTools.window.on("resize",function(){e.css({width:c.outerWidth(!0),height:c.outerHeight(!0)})}).trigger("resize"));b.ddTools.window.on("scroll load",function(){b.ddTools.window.scrollTop()>=d?g||(c.addClass(a.fixedClass),a.clone&&e.insertAfter(c),g=!0):g&&(c.removeClass(a.fixedClass),a.clone&&e.remove(),g=!1)})})};b.fn.ddActiveScroll=function(a){a=b.extend({distance:50,event:"click"},a||{});return b(this).each(function(){var c=b(this);b.ddTools.window.on("scroll load",function(){b.ddTools.window.scrollTop()+
b.ddTools.windowHeight+a.distance>=c.offset().top&&c.trigger(a.event)})})};b.fn.ddNumeric=function(a){a=b.extend({allowFloat:!0,decimals:0,chars:"!@#$%^&*()+=[]\\';/{}|\":<>?~` abcdefghijklmnopqrstuvwxyz\u0430\u0431\u0432\u0433\u0434\u0435\u0451\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044c\u044a\u044b\u044d\u044e\u044fABCDEFGHIJKLMNOPQRSTUVWXYZ\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042c\u042a\u042b\u042d\u042e\u042f"},
a||{});a.allowFloat||(a.chars+=".,");a.decimals=b.ddTools.parseInt(a.decimals);0==a.decimals&&(a.decimals=!1);return b(this).on("change",function(){var c=b(this);a.allowFloat?c.val(b.ddTools.parseFloat(c.val(),a.decimals)):c.val(b.ddTools.parseInt(c.val()))}).on("keypress",function(b){var d;d=b.charCode?String.fromCharCode(b.charCode):String.fromCharCode(b.which);-1!=a.chars.indexOf(d)&&b.preventDefault();b.ctrlKey&&"v"==d&&b.preventDefault()})};b.each({ddSlideDown:{opacity:"show",height:"show","padding-top":"show",
"padding-bottom":"show","margin-top":"show","margin-bottom":"show"},ddSlideUp:{opacity:"hide",height:"hide","padding-top":"hide","padding-bottom":"hide","margin-top":"hide","margin-bottom":"hide"},ddSlideToggle:{opacity:"toggle",height:"toggle","padding-top":"toggle","padding-bottom":"toggle","margin-top":"toggle","margin-bottom":"toggle"}},function(a,c){b.fn[a]=function(a,b,e){return this.animate(c,a,b,e)}});b(function(){b.ddTools.window=b(window);b.ddTools.body=b("body");b.ddTools.window.on("resize",
function(){b.ddTools.windowWidth=b.ddTools.window.width();b.ddTools.windowHeight=b.ddTools.window.height()}).trigger("resize");b.ddTools.body.on("ddError",function(a,c){if(!b.isPlainObject(c)||b.isEmptyObject(c))c={};(!c.title||!c.message)&&b.extend(c,{title:b.ddTools.ddErrorData.title,message:b.ddTools.ddErrorData.message});c.target||(c.target="unknown_"+document.location.href);c.message+='<br /><small>\u0410 \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0435 \u0442\u0440\u0443\u0434\u043d\u043e, \u043e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043d\u0430 <a href="mailto:'+
b.ddTools.ddErrorData.email+'">'+b.ddTools.ddErrorData.email+'</a> \u0430\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430 \u0438 \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438: "'+c.target+'".</small>';b.ddTools.ddErrorData.$dialog?(b.ddTools.ddErrorData.$dialog.data("ddMessage",c.message),b.ddTools.ddErrorData.$dialog.dialog("option","title",c.title),b.ddTools.ddErrorData.$dialog.dialog("open")):console&&b.isFunction(console.log)&&console.log(c)})})})(jQuery);